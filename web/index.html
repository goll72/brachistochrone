<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Brachistochrone DP Demo</title>

  <style>
    body {
      margin: 0;
      background: #000;
      height: 100vh;

      display: flex;
      align-items: center;
    }

    .progress-bar {
      height: 6px;
      width: 150px;

      margin: auto;

      overflow: hidden;
      background-color: #333;

      >div {
        width: 100%;
        height: 100%;
        background-color: #ccc;
        animation: indeterminate 1s linear infinite;
        animation-fill-mode: forwards;

        transform-origin: 0% 50%;
      }
    }

    .progress-bar:has(+ canvas) {
      display: none;
    }

    canvas {
      width: 100% !important;
      height: 100% !important;
    }

    @keyframes indeterminate {
      0% {
        transform: translateX(0) scaleX(0);
      }

      40% {
        transform: translateX(0) scaleX(0.4);
      }

      100% {
        transform: translateX(100%) scaleX(0.5);
      }
    }
  </style>
</head>

<body>
  <script type="module">
    import init from "./wasm/brachistochrone.js";
    init();
  </script>
  <!-- The progress bar has to be the last child so the canvas sibling selector works -->
  <div class="progress-bar">
    <div></div>
  </div>

  <!-- The WebAssembly code will create a canvas as the last child of the body element when it loads -->
</body>

</html>